tJSON=function(h){function m(a,b){g.push(a);for(var d in a)if("string"==typeof a[d]){if(0===a[d].indexOf("_tJSONReference:")){for(var c=d,e=b,h=a[d].slice(17).split("."),f="";f=h.shift();)f.length&&(e=e[f]);a[c]=e}}else"object"==typeof a[d]&&-1===g.indexOf(a[d])&&m(a[d],b)}var f=[],l=[],b="",g=[];return{stringify:function(a,k){var d=!1;void 0===k&&(k="",f=[],l=[],b="",d=!0);switch(typeof a){case "object":var c=l.indexOf(a);if(-1!==c)b+=h.stringify("_tJSONReference:"+f[c]);else if(f.push(k),l.push(a),
a instanceof Array){var e=k;b+="[";for(c=0;c<a.length;c++)0<c&&(b+=","),tJSON.stringify(a[c],e+"."+c);b+="]"}else{c=k;b+="{";var g=!0;for(e in a)a.hasOwnProperty(e)&&(g?g=!1:b+=",",b+=h.stringify(e)+":",tJSON.stringify(a[e],c+"."+e));b+="}"}break;case "function":case "undefined":break;default:b+=h.stringify(a)}d&&(f=[],l=[]);return b},parse:function(a){a=h.parse(a);g=[];m(a,a);g=[];return a}}}(JSON);